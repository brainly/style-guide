import {ArgsTable, Meta, Story, Canvas} from '@storybook/addon-docs';
import PetitButton, {
  PETIT_BUTTON_VARIANT,
  PETIT_BUTTON_SIZE,
} from './PetitButton';
import Icon, {TYPE as ICON_TYPES} from 'icons/Icon';
import Headline from '../text/Headline';
import PageHeader from 'blocks/PageHeader';
import {StoryVariantTable} from '../../docs/utils';
const iconSize = {
  [PETIT_BUTTON_SIZE.XS]: 16,
  [PETIT_BUTTON_SIZE.S]: 24,
};

<Meta
  title="Components/PetitButton"
  component={PetitButton}
  argTypes={{
    children: {
      control: {
        type: 'text',
      },
    },
    icon: {
      control: {
        type: 'select',
        options: ICON_TYPES,
      },
    },
    onClick: {
      table: {
        category: 'Events',
      },
    },
  }}
  args={{
    children: 'Link button',
    onClick: () => console.log('button clicked'),
  }}
/>

<PageHeader>PetitButton</PageHeader>

- [Stories](#stories)
- [Accessibility](#accessibility)

## Overview

<Canvas>
  <Story name="Default">
    {args => (
      <PetitButton
        {...args}
        icon={
          args.icon ? (
            <Icon
              size={iconSize[args.size]}
              type={args.icon}
              color="adaptive"
            />
          ) : null
        }
      />
    )}
  </Story>
</Canvas>

<ArgsTable story="Default" />

## Stories

### Variants

<Canvas>
  <Story name="Variants">
    {args => (
      <StoryVariantTable className="sg-button-stories-table">
        <thead>
          <tr>
            <th />
            <th>
              <Headline
                extraBold
                transform="uppercase"
                as="span"
                color="text-gray-40"
                size="medium"
              >
                default
              </Headline>
            </th>
            <th>
              <Headline
                extraBold
                transform="uppercase"
                as="span"
                color="text-gray-40"
                size="medium"
              >
                disabled
              </Headline>
            </th>
            <th>
              <Headline
                extraBold
                transform="uppercase"
                as="span"
                color="text-gray-40"
                size="medium"
              >
                loading
              </Headline>
            </th>
            <th>
              <Headline
                extraBold
                transform="uppercase"
                as="span"
                color="text-gray-40"
                size="medium"
              >
                with icon
              </Headline>
            </th>
            <th>
              <Headline
                extraBold
                transform="uppercase"
                as="span"
                color="text-gray-40"
                size="medium"
              >
                with icon - reversed order
              </Headline>
            </th>
          </tr>
        </thead>
        <tbody>
          {Object.values(PETIT_BUTTON_VARIANT).map(variant => (
            <tr
              style={{
                backgroundColor:
                  'transparent-inverted' === variant ? 'black' : 'transparent',
              }}
              key={variant}
            >
              <td>
                <div
                  style={{
                    height: 40,
                    display: 'flex',
                    alignItems: 'center',
                  }}
                >
                  <Headline
                    extraBold
                    transform="uppercase"
                    as="span"
                    color="text-gray-40"
                    size="medium"
                  >
                    {variant}
                  </Headline>
                </div>
              </td>
              <td>
                <div>
                  <PetitButton {...args} variant={variant} />
                </div>
              </td>
              <td>
                <PetitButton {...args} variant={variant} disabled />
              </td>
              <td>
                <PetitButton {...args} variant={variant} loading />
              </td>
              <td>
                <PetitButton
                  {...args}
                  variant={variant}
                  icon={<Icon type="arrow_up" color="adaptive" />}
                />
              </td>
              <td>
                <PetitButton
                  {...args}
                  variant={variant}
                  icon={<Icon type="arrow_right" color="adaptive" />}
                  reversedOrder
                />
              </td>
            </tr>
          ))}
        </tbody>
      </StoryVariantTable>
    )}
  </Story>
</Canvas>

### Sizes

<Canvas>
  <Story name="Sizes">
    {args => (
      <StoryVariantTable>
        <tbody>
          {Object.values(PETIT_BUTTON_SIZE).map(size => (
            <tr key={size}>
              <td>
                <Headline
                  extraBold
                  transform="uppercase"
                  as="span"
                  color="text-gray-40"
                  size="medium"
                >
                  {size}
                </Headline>
              </td>
              <td>
                <PetitButton {...args} size={size} variant="solid-light" />
              </td>
              <td>
                <PetitButton
                  {...args}
                  size={size}
                  icon={
                    <Icon
                      type="arrow_up"
                      color="adaptive"
                      size={iconSize[size]}
                    />
                  }
                  variant="solid-light"
                />
              </td>
              <td>
                <PetitButton
                  {...args}
                  size={size}
                  loading
                  variant="solid-light"
                />
              </td>
            </tr>
          ))}
        </tbody>
      </StoryVariantTable>
    )}
  </Story>
</Canvas>

## Accessibility
