import {ArgsTable, Meta, Story, Canvas} from '@storybook/addon-docs';
import {StoryVariant} from '../../docs/utils';
import ProgressIndicator from './ProgressIndicator';
import Button from '../buttons/Button';
import ProgressIndicatorA11y from './stories/ProgressIndicator.a11y.mdx';
import PageHeader from 'blocks/PageHeader';

<Meta
  title="Components/ProgressIndicator"
  component={ProgressIndicator}
  args={{
    maxValue: 10,
    value: 4,
    textValue: 'step 4 of 10',
  }}
/>

<PageHeader>ProgressIndicator</PageHeader>

- [Stories](#stories)
- [Responsive props](#responsive-props)
- [Accessibility](#accessibility)

## Overview

<Canvas>
  <Story name="Default">{args => <ProgressIndicator {...args} />}</Story>
</Canvas>

<ArgsTable story="Default" />

## Stories

### Sizes

<Canvas>
  <Story name="Sizes">
    {args => (
      <div>
        {['xs', 's'].map(size => (
          <StoryVariant label={`size - ${size}`} key={size}>
            <ProgressIndicator {...args} size={size} />
          </StoryVariant>
        ))}
      </div>
    )}
  </Story>
</Canvas>

### Without border radius

<Canvas>
  <Story name="Without border radius" args={{noBorderRadius: true}}>
    {args => <ProgressIndicator {...args} />}
  </Story>
</Canvas>

### With invisible track

<Canvas>
  <Story name="With invisible track" args={{invisibleTrack: true}}>
    {args => <ProgressIndicator {...args} />}
  </Story>
</Canvas>

### Animation

<Canvas>
  <Story name="Animation">
    {args => {
      const [value, setValue] = React.useState(2);
      return (
        <div className="sg-space-y-l">
          <ProgressIndicator {...args} value={value} />
          <Button onClick={() => setValue(value + 1)}>next step</Button>
        </div>
      );
    }}
  </Story>
</Canvas>

## Accessibility

<ProgressIndicatorA11y />
