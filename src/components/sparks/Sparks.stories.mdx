import {ArgsTable, Meta, Story, Canvas} from '@storybook/addon-docs';
import {StoryVariant} from '../../docs/utils';
import PageHeader from 'blocks/PageHeader';
import SparksA11y from './stories/Sparks.a11y.mdx';

import Sparks from './Sparks';
import Button from '../buttons/Button';

<Meta title="Components/Sparks" component={Sparks} />

<PageHeader>Sparks</PageHeader>

- [Stories](#stories)
- [Accessibility](#accessibility)

## Overview

<Canvas>
  <Story name="Default" args={{active: true}}>
    {args => (
      <div style={{width: 300}}>
        <Sparks {...args} active>
          <Button variant="solid-indigo" size={args.size || 'l'}>
            Button
          </Button>
        </Sparks>
      </div>
    )}
  </Story>
</Canvas>

<ArgsTable story="Default" />

## Stories

### Animation on Hover

<Canvas>
  <Story name="Hover" parameters={{backgrounds: {default: 'facebook'}}}>
    {args => {
      // active animation on button hover
      const [active, setActive] = React.useState(false);
      return (
        <div style={{width: 300}}>
          <Sparks
            {...args}
            variant="l"
            shape="spark"
            duration={99999}
            delay={0}
            iterationCount={5}
            active={active}
          >
            <Button
              variant="solid-inverted"
              size="l"
              onMouseEnter={() => setActive(true)}
              onMouseLeave={() => setActive(false)}
            >
              Button
            </Button>
          </Sparks>
        </div>
      );
    }}
  </Story>
</Canvas>

### Sizes

<Canvas>
  <Story name="Sizes">
    {args => (
      <div style={{width: 300}}>
        {['l', 'm', 's'].map(size => (
          <StoryVariant label={`size - ${size}`} key={size}>
            <Sparks
              {...args}
              variant={size}
              shape="spark"
              active
              iterationCount={Infinity}
              delay={500}
            >
              <Button variant="solid-indigo" size={size}>
                Button
              </Button>
            </Sparks>
          </StoryVariant>
        ))}
      </div>
    )}
  </Story>
</Canvas>

### Shapes

<Canvas>
  <Story name="Shapes">
    {args => (
      <div>
        {['spark', 'heart'].map(shape => (
          <StoryVariant label={`shape - ${shape}`} key={shape}>
            <Sparks
              {...args}
              variant="l"
              shape={shape}
              active
              iterationCount={Infinity}
              delay={500}
            >
              <Button variant="solid-light" size="l">
                {shape}
              </Button>
            </Sparks>
          </StoryVariant>
        ))}
      </div>
    )}
  </Story>
</Canvas>

## Accessibility

<SparksA11y />
