import {ArgsTable, Meta, Story, Canvas} from '@storybook/addon-docs';
import Select from './Select';
import PageHeader from 'blocks/PageHeader';
import Button from '../buttons/Button';

<Meta
  title="Components/SelectNew"
  component={Select}
  args={{
    options: [
      {value: 'physics', label: 'Physics'},
      {value: 'history', label: 'History'},
      {value: 'science', label: 'Science'},
    ],
  }}
/>

<PageHeader>Select</PageHeader>

- [Stories](#stories)

## Overview

<Canvas>
  <Story name="Default">{args => <Select {...args} />}</Story>
</Canvas>

<ArgsTable story="Default" />

## Stories

### With option select

<Canvas>
  <Story name="With option select">
    {args => {
      const [value, setValue] = React.useState(null);
      return (
        <Select
          {...args}
          value={value}
          onOptionChange={val => {
            setValue(val);
          }}
        />
      );
    }}
  </Story>
</Canvas>

### Controlled

<Canvas>
  <Story name="Controlled">
    {args => {
      const [value, setValue] = React.useState(null);
      const [expanded, setExpanded] = React.useState(false);
      return (
        <>
          <Button onClick={() => setExpanded(!expanded)} size="s">
            {expanded ? 'close' : 'open'}
          </Button>
          <Select
            {...args}
            value={value}
            expanded={expanded}
            onToggle={val => setExpanded(val)}
            onOptionChange={val => {
              setValue(val);
            }}
          />
        </>
      );
    }}
  </Story>
</Canvas>
