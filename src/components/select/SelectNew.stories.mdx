import {ArgsTable, Meta, Story, Canvas} from '@storybook/addon-docs';
import Select from './Select';
import PageHeader from 'blocks/PageHeader';
import Button from '../buttons/Button';

<Meta
  title="Components/SelectNew"
  component={Select}
  args={{
    options: [
      {value: 'physics', label: 'Physics'},
      {value: 'history', label: 'History'},
      {value: 'science', label: 'Science'},
    ],
  }}
/>

<PageHeader>Select</PageHeader>

- [Stories](#stories)

## Overview

<Canvas>
  <Story name="Default">{args => <Select {...args} />}</Story>
</Canvas>

<ArgsTable story="Default" />

## Stories

### With option select

<Canvas>
  <Story name="With option select">
    {args => {
      const [selectedOption, setSelectedOption] = React.useState(null);
      return (
        <Select
          {...args}
          selectedOption={selectedOption}
          onOptionChange={option => {
            setSelectedOption(option);
          }}
        />
      );
    }}
  </Story>
</Canvas>

### Controlled

<Canvas>
  <Story name="Controlled">
    {args => {
      const [selectedOption, setSelectedOption] = React.useState(null);
      const [expanded, setExpanded] = React.useState(false);
      return (
        <>
          <Button onClick={() => setExpanded(!expanded)} size="s">
            {expanded ? 'close' : 'open'}
          </Button>
          <Select
            {...args}
            selectedOption={selectedOption}
            expanded={expanded}
            onToggle={val => setExpanded(val)}
            onOptionChange={option => {
              setSelectedOption(option);
            }}
          />
        </>
      );
    }}
  </Story>
</Canvas>

### Default expanded

<Canvas>
  <Story name="Default expanded">
    {args => {
      return <Select {...args} defaultExpanded />;
    }}
  </Story>
</Canvas>

### With icons

<Canvas>
  <Story
    name="With icons"
    args={{
      withIcons: true,
      options: [
        {value: 'physics', label: 'Physics', iconName: 'physics'},
        {value: 'history', label: 'History', iconName: 'history'},
        {value: 'science', label: 'Science', iconName: 'science'},
      ],
    }}
  >
    {args => {
      const [selectedOption, setSelectedOption] = React.useState(null);
      return (
        <Select
          {...args}
          selectedOption={selectedOption}
          onOptionChange={option => {
            setSelectedOption(option);
          }}
        />
      );
    }}
  </Story>
</Canvas>
