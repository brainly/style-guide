import {ArgsTable, Meta, Story, Canvas} from '@storybook/addon-docs';
import {StoryVariant} from '../../_docs/utils';
import {Preview} from '../../_docs/blocks/';

import Flex from '../flex/Flex';
import Radio from './Radio';
import RadioGroup from './RadioGroup';
import {useRadioProvider} from './useRadioContext';

<Meta
  title="Components/Radio new"
  component={Radio}
  argTypes={{
    children: {
      type: 'string',
    },
  }}
/>

# Bubble

- [Stories](#stories)

## Overview

<Canvas>
  <Story name="Default">{args => <Radio {...args} />}</Story>
</Canvas>

<ArgsTable story="Default" />

## Stories

### With label

<Canvas>
  <Story name="With label" args={{value: 'my-radio', children: 'My radio'}}>
    {args => (
      <RadioGroup>
        <Radio {...args} />
      </RadioGroup>
    )}
  </Story>
</Canvas>

### With external label

<Canvas>
  <Story name="With external label" args={{value: 'test'}}>
    {args => (
      <RadioGroup {...args}>
        <label id="myRadioID-label">
          <Flex
            style={{
              backgroundColor: 'lightblue',
              borderRadius: '8px',
              padding: '20px 40px',
            }}
          >
            This component is a label for radio
            <Radio value={args.value} aria-labelledby="myRadioID-label" />
          </Flex>
        </label>
      </RadioGroup>
    )}
  </Story>
</Canvas>

### With group

<Canvas>
  <Story name="With group">
    {args => {
      return (
        <div>
          Pet a dog:
          <RadioGroup label="Pet a dog" name="dog" value="Freja">
            <Radio {...args} value="Freja">
              Freja
            </Radio>
            <Radio {...args} value="Gałgan">
              Gałgan
            </Radio>
          </RadioGroup>
        </div>
      );
    }}
  </Story>
</Canvas>

### With group of custom wrappers

<Canvas>
  <Story name="With group of custom wrappers">
    {args => {
      const CustomRadioComponent = ({value}) => {
        const {state} = useRadioProvider();
        return (
          <label id={`myRadioID-${value}`}>
            <Flex
              style={{
                backgroundColor:
                  value === state.selectedValue ? 'lightblue' : 'transparent',
                border: '1px solid black',
                borderRadius: '8px',
                padding: '20px 40px',
              }}
            >
              <Radio value={value} aria-labelledby={`myRadioID-${value}`} />
              {value}
            </Flex>
          </label>
        );
      };
      return (
        <div>
          Pet a dog:
          <RadioGroup label="Pet a dog" name="dog" value="Freja">
            <CustomRadioComponent value="Freja" />
            <CustomRadioComponent value="Gałgan" />
          </RadioGroup>
        </div>
      );
    }}
  </Story>
</Canvas>
