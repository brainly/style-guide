import {ArgsTable, Meta, Story, Canvas} from '@storybook/addon-docs';
import {StoryVariant, StoryVariantTable} from '../../_docs/utils';
import {Preview} from '../../_docs/blocks/';

import Flex from '../flex/Flex';
import Box from '../box/Box';
import Headline from '../text/Headline';
import Text from '../text/Text';

import Radio from './Radio';
import RadioGroup from './RadioGroup';
import {useRadioContext} from './useRadioContext';

<Meta
  title="Components/Radio new"
  component={Radio}
  argTypes={{
    children: {
      type: 'string',
    },
  }}
/>

# Bubble

- [Stories](#stories)

## Overview

<Canvas>
  <Story name="Default">{args => <Radio {...args} />}</Story>
</Canvas>

<ArgsTable story="Default" />

## Stories

### With label

<Canvas>
  <Story name="With label" args={{value: 'my-radio', children: 'My radio'}}>
    {args => (
      <RadioGroup>
        <Radio {...args} />
      </RadioGroup>
    )}
  </Story>
</Canvas>

### With external label

<Canvas>
  <Story name="With external label" args={{value: 'test'}}>
    {args => (
      <RadioGroup {...args}>
        <label id="myRadioID-label">
          <Flex
            style={{
              backgroundColor: 'lightblue',
              borderRadius: '8px',
              padding: '20px 40px',
            }}
          >
            This component is a label for radio
            <Radio value={args.value} aria-labelledby="myRadioID-label" />
          </Flex>
        </label>
      </RadioGroup>
    )}
  </Story>
</Canvas>

### With group

<Canvas>
  <Story name="With group">
    {args => {
      return (
        <div>
          <div>
            Enabled:
            <RadioGroup label="Pet a dog" name="dog1" value="Freja">
              <Radio {...args} value="Freja">
                Freja
              </Radio>
              <Radio {...args} value="Gałgan">
                Gałgan
              </Radio>
            </RadioGroup>
          </div>
          <div>
            Disabled:
            <RadioGroup label="Pet a dog" name="dog2" value="Freja" disabled>
              <Radio {...args} value="Freja">
                Freja
              </Radio>
              <Radio {...args} value="Gałgan">
                Gałgan
              </Radio>
            </RadioGroup>
          </div>
        </div>
      );
    }}
  </Story>
</Canvas>

### With group of custom wrappers

<Canvas>
  <Story name="With group of custom wrappers">
    {args => {
      const CustomRadioComponent = ({value}) => {
        const {state} = useRadioContext();
        return (
          <label id={`myRadioID-${value}`}>
            <Flex
              style={{
                backgroundColor:
                  value === state.selectedValue ? 'lightblue' : 'transparent',
                border: '1px solid black',
                borderRadius: '8px',
                padding: '20px 40px',
              }}
            >
              <Radio value={value} aria-labelledby={`myRadioID-${value}`} />
              {value}
            </Flex>
          </label>
        );
      };
      return (
        <div>
          Pet a dog:
          <RadioGroup label="Pet a dog" name="dog" value="Freja">
            <CustomRadioComponent value="Freja" />
            <CustomRadioComponent value="Gałgan" />
          </RadioGroup>
        </div>
      );
    }}
  </Story>
</Canvas>

### Dark color

<Canvas>
  <Story name="Dark color">
    {args => (
      <div>
        <StoryVariantTable className="sg-story-variant-table--align-items-top">
          <thead>
            <tr>
              {[null, 'standalone', 'with label'].map((name, index) => (
                <th>
                  <Headline
                    key={index}
                    extraBold
                    transform="uppercase"
                    type="span"
                    color="text-gray-70"
                    size="small"
                  >
                    {name}
                  </Headline>
                </th>
              ))}
            </tr>
          </thead>
          <tbody>
            {[
              {
                type: 'disabled',
                props: {disabled: true, style: {marginBottom: '12px'}},
              },
              {type: 'enabled', props: {style: {marginBottom: '12px'}}},
              {
                type: 'error',
                props: {
                  invalid: true,
                  errorMessage: 'Error message',
                  style: {marginBottom: '12px'},
                },
              },
            ].map(RadioType => (
              <tr key={RadioType.type}>
                <td>
                  <Headline bold color="text-gray-50" size="xsmall">
                    State
                  </Headline>
                  <Headline
                    extraBold
                    transform="uppercase"
                    type="span"
                    color="text-gray-70"
                    size="small"
                  >
                    {RadioType.type}
                  </Headline>
                </td>
                <td>
                  <Flex alignItems="center" direction="column">
                    <Radio {...RadioType.props} errorMessage={null} />
                    <Radio {...RadioType.props} checked errorMessage={null} />
                  </Flex>
                </td>
                <td>
                  <Flex alignItems="center" direction="column">
                    <Radio {...RadioType.props}>Radio label</Radio>
                    <Radio {...RadioType.props} checked>
                      Radio label
                    </Radio>
                  </Flex>
                </td>
              </tr>
            ))}
          </tbody>
        </StoryVariantTable>
      </div>
    )}
  </Story>
</Canvas>
