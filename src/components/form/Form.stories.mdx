import {Form, FormStep, FormContext} from './Form';
import Flex from '../flex/Flex';
import Button from '../buttons/Button';
import Headline from '../text/Headline';
import Text from '../text/Text';
import Icon from '../icons/Icon';
import Checkbox from '../form-elements/checkbox/Checkbox';
import Input from '../form-elements/Input';
import {ArgsTable, Meta, Story, Canvas} from '@storybook/addon-docs';
import './form.stories.scss';

<Meta title="Components/Form" component={Form} />

<PageHeader>Form</PageHeader>

- [Stories](#stories)

## Overview

<Canvas>
  <Story name="Default">
    {args => {
      const nextButtonRef = React.useRef(null);
      return (
        <div
          style={{
            height: '100%',
            width: '100%',
            position: 'absolute',
            left: 0,
            top: 0,
          }}
        >
          <Form>
            <FormStep>
              {({changeStep, currentStepIndex}) => {
                return (
                  <Flex
                    justifyContent="center"
                    fullWidth
                    onKeyDown={event => {
                      if (event.key === 'Enter') {
                        if (event.target !== nextButtonRef.current) {
                          changeStep(currentStepIndex + 1);
                        }
                      }
                    }}
                  >
                    <div className="form-stories__step-wide">
                      <Flex direction="column">
                        <Headline size="xlarge">Almost there.</Headline>
                        <Text weight="bold" size="medium">
                          Let us know you better
                        </Text>
                        <Flex direction="column" marginTop="xl">
                          <Flex alignItems="center">
                            <div className="form-stories-counter">
                              <Text
                                weight="bold"
                                size="small"
                                color="text-white"
                              >
                                1
                              </Text>
                            </div>
                            <Headline>Who are you?</Headline>
                          </Flex>
                          <img src="form_stories__clickable-area.png" />
                          <Flex alignItems="center" marginTop="l">
                            <Button
                              variant="solid-indigo"
                              onClick={() => changeStep(currentStepIndex + 1)}
                              ref={nextButtonRef}
                            >
                              next
                            </Button>
                            <Flex
                              className="form-stories-press-enter"
                              alignItems="center"
                            >
                              <Text
                                weight="bold"
                                size="small"
                                color="text-gray-50"
                              >
                                or press
                              </Text>
                              <Icon
                                className="form-stories-press-enter__icon"
                                type="keyboard"
                                color="icon-gray-50"
                              />
                            </Flex>
                          </Flex>
                        </Flex>
                      </Flex>
                    </div>
                  </Flex>
                );
              }}
            </FormStep>
            <FormStep>
              {({changeStep, currentStepIndex}) => (
                <Flex justifyContent="center" fullWidth>
                  <div className="form-stories__step-wide">
                    <Flex direction="column">
                      <Flex alignItems="center">
                        <div className="form-stories-counter">
                          <Text weight="bold" size="small" color="text-white">
                            2
                          </Text>
                        </div>
                        <Headline>
                          What email adress can we reach you at?
                        </Headline>
                      </Flex>
                      <Text
                        color="text-gray-60"
                        size="small"
                        className="form-stories__step-subheadline"
                      >
                        This is only to get in touch, not to send spam. We love
                        GDPR and GDPR loves us.
                      </Text>
                      <Input placeholder="youremail@example.com" fullWidth />
                      <Flex alignItems="center" marginTop="l">
                        <Button
                          variant="solid-indigo"
                          onClick={() => changeStep(currentStepIndex + 1)}
                        >
                          next
                        </Button>
                        <Flex
                          className="form-stories-press-enter"
                          alignItems="center"
                        >
                          <Text weight="bold" size="small" color="text-gray-50">
                            or press
                          </Text>
                          <Icon
                            className="form-stories-press-enter__icon"
                            type="keyboard"
                            color="icon-gray-50"
                          />
                        </Flex>
                      </Flex>
                    </Flex>
                  </div>
                </Flex>
              )}
            </FormStep>
            <FormStep>
              {({changeStep, currentStepIndex}) => (
                <Flex justifyContent="center" fullWidth>
                  <div className="form-stories__step-wide">
                    <Flex direction="column">
                      <Flex alignItems="center">
                        <div className="form-stories-counter">
                          <Text weight="bold" size="small" color="text-white">
                            3
                          </Text>
                        </div>
                        <Headline>Tell us a little bit more</Headline>
                      </Flex>
                      <Text
                        color="text-gray-60"
                        size="small"
                        className="form-stories__step-subheadline"
                      >
                        We want to keep Brainly safe space for everybody
                      </Text>
                      <Text weight="bold" size="small">
                        Username
                      </Text>
                      <Input placeholder="Username" fullWidth />
                      <Text weight="bold" size="small">
                        Password
                      </Text>
                      <Input placeholder="Password" fullWidth />
                      <Text weight="bold" size="small">
                        Your age
                      </Text>
                      <Input placeholder="Select your age" fullWidth />
                      <Text weight="bold" size="small">
                        Your country
                      </Text>
                      <Input placeholder="Select your country" fullWidth />
                      <Flex alignItems="center" marginTop="l">
                        <Button
                          variant="solid-indigo"
                          onClick={() => changeStep(currentStepIndex + 1)}
                        >
                          next
                        </Button>
                        <Flex
                          className="form-stories-press-enter"
                          alignItems="center"
                        >
                          <Text weight="bold" size="small" color="text-gray-50">
                            or press
                          </Text>
                          <Icon
                            className="form-stories-press-enter__icon"
                            type="keyboard"
                            color="icon-gray-50"
                          />
                        </Flex>
                      </Flex>
                    </Flex>
                  </div>
                </Flex>
              )}
            </FormStep>
            <FormStep>
              {({changeStep, currentStepIndex}) => (
                <Flex justifyContent="center" fullWidth>
                  <div className="form-stories__step-wide">
                    <Flex direction="column">
                      <Flex alignItems="center">
                        <div className="form-stories-counter">
                          <Text weight="bold" size="small" color="text-white">
                            4
                          </Text>
                        </div>
                        <Headline>Tell us a little bit more</Headline>
                      </Flex>
                      <Text
                        color="text-gray-60"
                        size="small"
                        className="form-stories__step-subheadline"
                      >
                        We want to keep Brainly safe space for everybody
                      </Text>
                      <img tabIndex={-1} src="form_stories__avatar-mock.png" />
                      <Flex alignItems="center" marginTop="l">
                        <Button
                          variant="solid-indigo"
                          onClick={() => changeStep(currentStepIndex + 1)}
                        >
                          next
                        </Button>
                        <Flex
                          className="form-stories-press-enter"
                          alignItems="center"
                        >
                          <Text weight="bold" size="small" color="text-gray-50">
                            or press
                          </Text>
                          <Icon
                            className="form-stories-press-enter__icon"
                            type="keyboard"
                            color="icon-gray-50"
                          />
                        </Flex>
                      </Flex>
                    </Flex>
                  </div>
                </Flex>
              )}
            </FormStep>
            <FormStep>
              {({changeStep, currentStepIndex}) => (
                <Flex justifyContent="center" fullWidth>
                  <div className="form-stories__step-wide">
                    <Flex direction="column">
                      <Checkbox>
                        By creating an account, you accept the Brainly Terms of
                        Service & Privacy Policy
                      </Checkbox>
                      <Flex alignItems="center" marginTop="l">
                        <Button variant="solid-indigo">
                          Finish registration
                        </Button>
                        <Flex
                          className="form-stories-press-enter"
                          alignItems="center"
                        >
                          <Text weight="bold" size="small" color="text-gray-50">
                            or press
                          </Text>
                          <Icon
                            className="form-stories-press-enter__icon"
                            type="keyboard"
                            color="icon-gray-50"
                          />
                        </Flex>
                      </Flex>
                      <Flex marginTop="l" alignItems="center">
                        <span className="form-stories__exclamation-mark">
                          <Icon
                            type="exclamation_mark"
                            color="icon-white"
                            size={16}
                          />
                        </span>
                        <Text size="xsmall" color="text-gray-50">
                          We will post your question immediately after finishing
                          registration.
                        </Text>
                      </Flex>
                    </Flex>
                  </div>
                </Flex>
              )}
            </FormStep>
          </Form>
        </div>
      );
    }}
  </Story>
</Canvas>

<ArgsTable story="Default" />

## Stories
